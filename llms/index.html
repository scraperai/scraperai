<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Iakov Kaiumov" /><link rel="canonical" href="https://docs.scraper-ai.com/llms/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>LLMs - ScraperAI</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "LLMs";
        var mkdocs_page_input_path = "llms.md";
        var mkdocs_page_url = "/llms/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> ScraperAI
        </a>
        <div class="version">
          0.0.2
        </div><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Introduction</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../getting-started/">Getting Started</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Main Components</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">LLMs</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#openai">OpenAI</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#custom-models">Custom models</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../crawlers/">Crawler</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../parser/">ParserAI</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../scraper/">Scraper</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">CLI</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../cli/">CLI Application</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Examples</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../examples/">Examples</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">ScraperAI</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Main Components</li>
      <li class="breadcrumb-item active">LLMs</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/scraperai/scraperai/blob/main/docs/llms.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="llms">LLMs</h1>
<p>ScraperAI heavily relies on Large Language Models (LLMs) to analyze webpage content and extract relevant information. 
To ensure flexibility and quality, we integrate <a href="https://github.com/langchain-ai/langchain">langchain</a> as a core AI package.</p>
<h2 id="openai">OpenAI</h2>
<p>By default, ScraperAI utilizes the latest OpenAI's ChatGPT model (<code>gpt-4-turbo-2024-04-09</code>).</p>
<p>To use another OpenAI model pass its name during initialization:</p>
<pre><code class="language-python">from scraperai import JsonOpenAI

model = JsonOpenAI(openai_api_key='sk-...', model_name='gpt-3.5-turbo')
</code></pre>
<p>You can access total USD spent using <code>total_cost</code> property.</p>
<h2 id="custom-models">Custom models</h2>
<p>ScraperAI provides flexibility to integrate any other model capable of generating JSON answers.</p>
<blockquote>
<p>Please note that although ScraperAI utilizes HTML minification, it still requires LLMs to be capable of processing substantial contexts. 
It's recommended that the model's input size be equal to or greater than approximately 16k Byte-Pair Encoded tokens.</p>
</blockquote>
<p>To implement a custom model, simply inherit from the following abstract class:</p>
<pre><code class="language-python">from langchain_core.messages import BaseMessage
from scraperai import BaseJsonLM

class YourJsonModel(BaseJsonLM):
    def invoke(self, messages: list[BaseMessage]) -&gt; dict:
        ...
</code></pre>
<p>Then, pass your model to the <code>ParserAI</code> during initialization:</p>
<pre><code class="language-python">from scraperai import ParserAI

parser = ParserAI(json_lm_model=YourJsonModel(), ...)
</code></pre>
<p>We are working on extending a list of models available out of the box.</p>
<h1 id="vision-models">Vision Models</h1>
<p>Vision Models play a crucial role in ScraperAI for determining webpage types and generating descriptions of webpages.</p>
<p>While usage of Vision Models is recommended, it's not mandatory. 
Experiments have demonstrated the effectiveness of the Vision approach compared to using JSON Models with HTML inputs.</p>
<h2 id="openai_1">OpenAI</h2>
<p>By default, ScraperAI employs the latest OpenAI's ChatGPT model (<code>gpt-4-vision-preview</code>). </p>
<p>To use another OpenAI model pass its name during initialization:</p>
<pre><code class="language-python">from scraperai import VisionOpenAI

model = VisionOpenAI(openai_api_key='sk-...', model_name='gpt-4-1106-vision-preview')
</code></pre>
<p>You can access total USD spent using <code>total_cost</code> property.</p>
<h2 id="custom-models_1">Custom models</h2>
<p>ScraperAI provides flexibility to integrate any other model by extending the abstract class as follows:</p>
<pre><code class="language-python">from langchain_core.messages import BaseMessage
from scraperai import BaseVision

class YourVisionModel(BaseVision):
    def invoke(self, messages: list[BaseMessage]) -&gt; str:
        ...
</code></pre>
<p>Note: ScraperAI passes the image as a base64 encoded string to the <code>image_url</code> field of <code>HumanMessage</code>.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../getting-started/" class="btn btn-neutral float-left" title="Getting Started"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../crawlers/" class="btn btn-neutral float-right" title="Crawler">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/scraperai/scraperai" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../getting-started/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../crawlers/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
